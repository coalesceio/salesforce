fileVersion: 1
id: b1ac8e2b-1823-4d30-9af4-3fa603280d59
name: WRK_STG_SALESFORCE__USER
operation:
  config:
    groupByAll: false
    incColumn:
      columnCounter: 408bacd8-5acc-4edd-b07c-377bd228517c
      stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
    insertStrategy: INSERT
    orderby: false
    persistTableLocation: STAGE
    persistTableName: STG_SALESFORCE__USER
    postSQL: ""
    preSQL: ""
    refTable: true
    selectDistinct: false
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: STAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: adc8769b-9d7d-497b-be66-193ca8835bf8
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: BOOLEAN
        description: True, if this field has been deleted
        name: _FIVETRAN_DELETED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2b471219-7f4f-410c-ae69-6baef0240745
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 408bacd8-5acc-4edd-b07c-377bd228517c
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: TIMESTAMP_NTZ(9)
        description: The time at which fivetran last synced this record
        name: _FIVETRAN_SYNCED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 48e55903-d24b-48fc-af44-9b5ea1cc8e3d
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: CAST("USER"."_FIVETRAN_SYNCED" AS TIMESTAMP)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7429bbcf-d08c-4ba9-a84e-542301c77974
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: ID of the Account associated with a Customer Portal user. This field is null for Salesforce users.
        name: ACCOUNT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 25f36ed0-fc06-4d1c-938c-2ea055bd8771
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 19787421-4d9f-441b-b663-3e483b2f60b3
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: Required. The user’s alias. For example, jsmith.
        name: ALIAS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0f230c66-c76a-402f-bba6-34d46b6a1569
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8878f753-8485-461b-8b44-22105b586368
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The city associated with the user. Up to 40 characters allowed.
        name: CITY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fb7077d8-aa26-4853-b72f-33c0de7b5ec1
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: df50487b-45da-40ba-b4a7-f22be75393fd
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The name of the user’s company.
        name: COMPANY_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 860c1bb6-ee6f-43c8-bdc8-e1bce91a2626
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 39fbb540-cb51-4b9c-8a71-52579ed324b5
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: ID of the Contact associated with this account. The contact must have a value in the AccountId field or an error occurs.
        name: CONTACT_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8588b9b1-7d93-4d20-9c13-4e88248981aa
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 053f23b1-b508-4f2d-a67c-559ef5e19ceb
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The country associated with the user.
        name: COUNTRY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dcc886cd-f99b-4701-b29c-051585c91be3
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 774f34a2-e389-4704-8c5e-0cb7153c7fe4
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The ISO country code associated with the user.
        name: COUNTRY_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f9199915-8adf-49f4-a677-6f5699868207
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The company department associated with the user.
        name: DEPARTMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e1790336-8331-4d9c-8a5a-6c016c3fc038
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b6d9c8fd-f7e9-431e-af92-32adc63d665a
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: Required. The user’s email address.
        name: EMAIL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3a5a4b15-23d7-4c1e-aabd-29df1285d2fa
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 777e7d53-a39d-442c-9720-48e67cc731b6
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The user’s first name.
        name: FIRST_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0c7e9d45-f6da-4350-b3a0-ef011032c05b
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 05343431-9060-4bea-a93f-1c55101b52da
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The unique, system-generated ID assigned during creation.
        name: USER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18920d71-1650-4c47-bac6-6068b7ebc261
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e5f4e1a4-f858-43fb-b590-7ae5c2d4eaa4
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: ID of the data privacy record associated with this user. This field is available if Data Protection and Privacy is enabled.
        name: INDIVIDUAL_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 85e58093-23cd-4364-ba7a-f5318306ee1e
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7b5356e7-609f-4dd2-96be-e374cb9cca3c
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: BOOLEAN
        description: Indicates whether the user has access to log in (true) or not (false).
        name: IS_ACTIVE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f6962120-53be-49b5-805c-3db920d8cfbc
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 32386178-fe93-4e51-ac30-353943dc6a68
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: TIMESTAMP_NTZ(9)
        description: The date and time when the user last successfully logged in. This value is updated if 60 seconds have elapsed since the user’s last login.
        name: LAST_LOGIN_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5458084d-cca6-4d22-a288-7521cf5c39e2
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: CAST("USER"."LAST_LOGIN_DATE" AS TIMESTAMP)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 06c040bf-0bf2-4a97-b321-937054c76f24
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: Required. The user’s last name.
        name: LAST_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9e56d440-f571-460c-aaff-e5dd2193e5ff
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a6476d32-cbc5-4da9-98da-195764871143
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: TIMESTAMP_NTZ(9)
        description: The timestamp for when the current user last viewed a record related to this record.
        name: LAST_REFERENCED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2ab49df9-27dc-468e-943d-7b354de69cd1
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: CAST("USER"."LAST_REFERENCED_DATE" AS TIMESTAMP)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b7d57911-4be5-4f13-bd38-51fe27a47014
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: TIMESTAMP_NTZ(9)
        description: The timestamp for when the current user last viewed this record. If this value is null, this record might only have been referenced (LastReferencedDate) and not viewed.
        name: LAST_VIEWED_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d16525a3-edb7-4829-8d75-5f650c682204
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: CAST("USER"."LAST_VIEWED_DATE" AS TIMESTAMP)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7c50f138-8b38-46ec-a349-81b82de02e79
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The Id of the user who manages this user.
        name: MANAGER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9354c31a-c8ca-4f54-b605-8a08e17a521f
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 49c5f4cf-d21b-4377-87f5-df7ad6c07217
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: Concatenation of FirstName and LastName.
        name: USER_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eba96124-133f-4867-b5fe-4f4bada60cab
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 69a6af90-b777-4fab-b845-54433b979ab4
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The user’s postal or ZIP code.
        name: POSTAL_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0ccd5af1-a033-49da-9961-6a75306cfcfd
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f85a6ee6-aac1-48cc-9e33-4de62980084c
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: Required. ID of the user’s Profile. Use this value to cache metadata based on profile. In earlier releases, this was RoleId.
        name: PROFILE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 934e4982-6a1a-426f-aa67-efd661008aad
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1b877ed5-4c32-490d-a688-e130676cdb67
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The state associated with the User.
        name: STATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d26860ea-79f0-4e07-9178-350bb90cba18
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 71201d9f-f69f-4791-a4a8-56c965d71570
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The ISO state code associated with the user.
        name: STATE_CODE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 059aa639-f6b4-4534-991b-1cd8e37cc6a3
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The street address associated with the User.
        name: STREET
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 15255448-f16c-4438-bb24-37e18cd9b672
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea9226a4-85ed-4d74-8638-eb8a384ecf92
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The user’s business title, such as “Vice President.”
        name: TITLE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 591bb269-e0c4-4cce-999b-aa2104a3c6e9
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 971e5f1e-84d3-4cc6-9f23-b4ca82f64d83
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: ID of the user’s UserRole.
        name: USER_ROLE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 58b70815-706b-43f7-8dde-c51f2597e092
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 47140eb9-3a08-4f78-bfbe-8fc0aa7c1112
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: The category of user license.
        name: USER_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ccb3c830-d8f6-4156-aa1e-6f1f217caebc
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e04934ea-c023-499a-a312-e498c76d5b8a
          stepCounter: b1ac8e2b-1823-4d30-9af4-3fa603280d59
        config: {}
        dataType: VARCHAR(16777216)
        description: Contains the name that a user enters to log in. The value for this field must be in the form of an email address, using all lowercase characters. It must also be unique across all organizations.
        name: USERNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8116f4fc-81a5-47b5-b36b-46344bad1aa5
                stepCounter: 60a6783b-4c0d-4d4b-9833-cf8668313010
            transform: ""
    cteString: ""
    description: ""
    destinationName: ""
    enabledColumnTestIDs: []
    materializationOption: ""
    sourceMapping:
      - aliases:
          USER: 60a6783b-4c0d-4d4b-9833-cf8668313010
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE
            nodeName: USER
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE', 'USER') }} USER
              WHERE "USER"."_FIVETRAN_SYNCED" > 
              (SELECT COALESCE(MAX("_FIVETRAN_SYNCED"), '1900-01-01') 
                        FROM {{ ref_no_link('STAGE', 'STG_SALESFORCE__USER') }} )
        name: WRK_STG_SALESFORCE__USER
        noLinkRefs:
          - locationName: STAGE
            nodeName: STG_SALESFORCE__USER
  name: WRK_STG_SALESFORCE__USER
  overrideSQL: false
  schema: ""
  sqlType: INC:::230
  type: sql
  version: 1
type: Node
